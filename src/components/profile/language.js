// i18next 초기화 설정
i18next.init({
  resources: {
    en: {
      translation: {
        "recent-history": "Recent History",
        "friend-request": "Friend Request",
        "friends": "Friends",
        "choose-photo": "Choose a photo for your profile",
        "rate": "Rate",
        "win": "Win",
        "loss": "Loss",
        "2fa-option": "2FA Authentication Options",
        "language": "Select Language",
        "change-password-guide": "Change Password",
        "change-password": "Change Password",
        "unsubscribe-guide": "Unsubscribe",
        'unsubscribe': 'Unsubscribe',
        "confirm2FAModalLabel": "2FA Authentication Confirmation",
        "confirm-2fa-modal-message": "Do you want to proceed with 2FA authentication?",
        "confirm-2fa-modal-cancel": "Cancel",
        "confirm-2fa-modal-continue": "Continue",
        "codeInputModalLabel": "Enter Authentication Code",
        "code-input-modal-label-code": "Authentication Code",
        "codeInput": "Enter your code",
        "timer": "Remaining time: 05:00",
        "code-input-modal-label-confirm": "Confirm Code",
        "code-input-modal-label-resend": "Resend Code",
        "lang-ko": "Korean",
        "lang-en": "English",
        "lang-fr": "French",
        "changePasswordModalLabel": "Change Password",
        "change-password-modal-current": "Current Password",
        "change-password-modal-new": "New Password",
        "change-password-modal-new-confirm": "Confirm New Password",
        "change-password-modal-cancel": "Cancel",
        "change-password-modal-change": "Change",
        "confirmDeletionModalLabel": "Confirm Account Deletion",
        "confirm-deletion-modal-content": "Are you sure you want to delete your account? This action cannot be undone.",
        "confirm-deletion-modal-cancel": "Cancel",
        "confirm-deletion-modal-confirm": "Confirm",
        "passwordConfirmModalLabel": "Password Confirmation",
        "password-confirm-form-content": "Please enter your password",
        "password-confirm-form-input": "Password",
        "password-confirm-form-confirm": "Confirm"
      }
    },
    ko: {
      translation: {
        "recent-history": "최근 역사",
        "friend-request": "친구 요청",
        "friends": "친구들",
        "choose-photo": "프로필 사진 선택",
        "rate": "승률",
        "win": "승리",
        "loss": "패배",
        "2fa-option": "2단계 인증 옵션",
        "language": "언어 선택",
        "change-password-guide": "비밀번호 변경",
        "change-password": "비밀번호 변경",
        "unsubscribe-guide": "구독 취소",
        "unsubscribe": "구독 취소",
        "confirm2FAModalLabel": "2단계 인증 확인",
        "confirm-2fa-modal-message": "2단계 인증을 진행하시겠습니까?",
        "confirm-2fa-modal-cancel": "취소",
        "confirm-2fa-modal-continue": "계속",
        "codeInputModalLabel": "인증 코드 입력",
        "code-input-modal-label-code": "인증 코드",
        "codeInput": "코드를 입력하세요",
        "timer": "남은 시간: 05:00",
        "code-input-modal-label-confirm": "코드 확인",
        'code-input-modal-label-resend': '코드 재전송',
        "lang-ko": "한국어",
        "lang-en": "영어",
        "lang-fr": "프랑스어",
        "changePasswordModalLabel": "비밀번호 변경",
        "change-password-modal-current": "현재 비밀번호",
        "change-password-modal-new": "새 비밀번호",
        "change-password-modal-new-confirm": "새 비밀번호 확인",
        "change-password-modal-cancel": "취소",
        "change-password-modal-change": "변경하기",
        "confirmDeletionModalLabel": "회원 탈퇴 확인",
        "confirm-deletion-modal-content": "정말로 계정을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.",
        "confirm-deletion-modal-cancel": "취소",
        "confirm-deletion-modal-confirm": "확인",
        "passwordConfirmModalLabel": "비밀번호 확인",
        "password-confirm-form-content": "비밀번호를 입력하세요",
        "password-confirm-form-input": "비밀번호",
        "password-confirm-form-confirm": "확인"
      }
    },
    fr: {
      translation: {
        "recent-history": "Histoire Récente",
        "friend-request": "Demande d'Ami",
        "friends": "Amis",
        "choose-photo": "Choisir une photo pour votre profil",
        "rate": "Taux",
        "win": "Gagner",
        "loss": "Perte",
        "2fa-option": "Options d'authentification 2FA",
        "language": "Choisir la Langue",
        "change-password-guide": "Changer le Mot de Passe",
        "change-password": "Changer le Mot de Passe",
        "unsubscribe-guide": "Se Désabonner",
        "unsubscribe": "Se Désabonner",
        "confirm2FAModalLabel": "Confirmation d'authentification 2FA",
        "confirm-2fa-modal-message": "Voulez-vous procéder à l'authentification 2FA?",
        "confirm-2fa-modal-cancel": "Annuler",
        "confirm-2fa-modal-continue": "Continuer",
        "codeInputModalLabel": "Entrez le code d'authentification",
        "code-input-modal-label-code": "Code d'authentification",
        "codeInput": "Entrez votre code",
        "timer": "Temps restant : 05:00",
        "code-input-modal-label-confirm": "Confirmer le code",
        'code-input-modal-label-resend': 'Renvoyer le code',
        "lang-ko": "Coréen",
        "lang-en": "Anglais",
        'lang-fr': 'Français',
        "changePasswordModalLabel": "Changer le mot de passe",
        "change-password-modal-current": "Mot de passe actuel",
        "change-password-modal-new": "Nouveau mot de passe",
        "change-password-modal-new-confirm": "Confirmer le nouveau mot de passe",
        "change-password-modal-cancel": "Annuler",
        "change-password-modal-change": "Changer",
        "confirmDeletionModalLabel": "Confirmation de la suppression du compte",
        "confirm-deletion-modal-content": "Êtes-vous sûr de vouloir supprimer votre compte? Cette action est irréversible.",
        "confirm-deletion-modal-cancel": "Annuler",
        "confirm-deletion-modal-confirm": "Confirmer",
        "passwordConfirmModalLabel": "Confirmation du mot de passe",
        "password-confirm-form-content": "Veuillez entrer votre mot de passe",
        "password-confirm-form-input": "Mot de passe",
        "password-confirm-form-confirm": "Confirmer"
      }
    }
  },
  fallbackLng: "en",
  debug: true
});


// 기존의 함수들은 변경 없음

// 언어 변경 함수
export function changeLanguage(language) {
  const languageCode = mapLanguageToCode(language);
  i18next.changeLanguage(languageCode, (err, t) => {
    if (err) return console.error(err);
    updateContent();
  });
}

// 언어명을 언어 코드로 변환하는 함수
function mapLanguageToCode(language) {
  const languageMap = {
    korean: 'ko',
    english: 'en',
    french: 'fr'
  };
  return languageMap[language.toLowerCase()] || 'en'; // 기본값으로 'en' 설정
}


// 페이지 콘텐츠 업데이트
export function updateContent() {
  document.getElementById("recent-history").innerHTML = i18next.t("recent-history");
  document.getElementById("friend-request").innerHTML = i18next.t("friend-request");
  document.getElementById("friends").innerHTML = i18next.t("friends");
  document.getElementById("rate").innerHTML = i18next.t("rate");
  document.getElementById("win").innerHTML = i18next.t("win");
  document.getElementById("loss").innerHTML = i18next.t("loss");
  document.getElementById("choose-photo").innerHTML = i18next.t("choose-photo");
  document.getElementById("2fa-option").innerHTML = i18next.t("2fa-option");
  document.getElementById("language").innerHTML = i18next.t("language");
  document.getElementById("change-password-guide").innerHTML = i18next.t("change-password-guide");
  document.getElementById('change-password').innerHTML = i18next.t('change-password');
  document.getElementById('unsubscribe-guide').innerHTML = i18next.t('unsubscribe-guide');
  document.getElementById('unsubscribe').innerHTML = i18next.t('unsubscribe');
  document.getElementById('lang-ko').innerHTML = i18next.t('lang-ko');
  document.getElementById("lang-en").innerHTML = i18next.t("lang-en");
  document.getElementById('lang-fr').innerHTML = i18next.t('lang-fr');
}